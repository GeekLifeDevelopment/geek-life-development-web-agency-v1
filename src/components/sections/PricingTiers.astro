---
import Badge from '../ui/Badge.astro';
import Button from '../ui/Button.astro';
import Card from '../ui/Card.astro';
import Heading from '../ui/Heading.astro';
import Section from '../ui/Section.astro';

type Tier = {
  name: string;
  summary: string;
  pricingNote: string;
  features: string[];
  popular?: boolean;
};

interface Props {
  title?: string;
  subtitle?: string;
  tiers?: Tier[];
}

const {
  title = 'Flexible tiers for where you are now',
  subtitle = 'Start small, expand confidently, and keep your website aligned with growth goals.',
  tiers = [
    {
      name: 'Starter',
      summary: 'A clean launch package for early-stage service businesses.',
      pricingNote: 'Starting scope available',
      features: ['Core pages + messaging structure', 'Mobile-first design system', 'Launch checklist and QA']
    },
    {
      name: 'Growth',
      summary: 'Built for teams focused on lead quality and conversion improvements.',
      pricingNote: 'Contact for pricing',
      features: ['Conversion-focused page templates', 'Tracking and reporting baseline', 'Quarterly optimization roadmap'],
      popular: true
    },
    {
      name: 'Pro',
      summary: 'For multi-service operations needing deeper strategy and iteration.',
      pricingNote: 'Custom engagement',
      features: ['Advanced information architecture', 'Content and SEO collaboration', 'Priority implementation support']
    }
  ]
} = Astro.props;
---

<Section>
  <div class="space-y-10">
    <Heading title={title} subtitle={subtitle} />
    <div class="grid gap-6 lg:grid-cols-3">
      {
        tiers.map((tier) => (
          <Card class={tier.popular ? 'border-blue-200 ring-2 ring-blue-100' : ''}>
            {tier.popular && <Badge variant="accent">Most popular</Badge>}
            <h3 class="mt-3 text-xl font-semibold">{tier.name}</h3>
            <p class="mt-2 text-sm text-slate-600">{tier.summary}</p>
            <p class="mt-4 font-medium text-slate-900">{tier.pricingNote}</p>
            <ul class="mt-4 space-y-2 text-sm text-slate-700">
              {tier.features.map((feature) => <li>â€¢ {feature}</li>)}
            </ul>
            <Button href="/contact" class="mt-6 w-full">Get a quote</Button>
          </Card>
        ))
      }
    </div>
  </div>
</Section>
