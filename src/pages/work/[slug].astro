---
import Layout from '../../components/Layout.astro';
import CTASection from '../../components/sections/CTASection.astro';
import Hero from '../../components/sections/Hero.astro';
import SplitSection from '../../components/sections/SplitSection.astro';
import Card from '../../components/ui/Card.astro';
import Section from '../../components/ui/Section.astro';
import { caseStudies } from '../../data/caseStudies';

export function getStaticPaths() {
  return caseStudies.map((study) => ({
    params: { slug: study.slug },
    props: { study }
  }));
}

const { study } = Astro.props;
---

<Layout title={`${study.client} Case Study | Geek Life Development`} description={study.summary}>
  <Hero
    title={study.title}
    subtitle={study.summary}
    primaryCta={{ label: 'Get a quote', href: '/contact' }}
    secondaryCta={{ label: 'Back to work', href: '/work' }}
    accent={false}
  />

  <Section class="bg-white">
    <div class="grid gap-6 md:grid-cols-2">
      <Card>
        <h2 class="text-2xl">Services Provided</h2>
        <ul class="mt-4 space-y-2 text-slate-700">
          {study.services.map((service: string) => <li>• {service}</li>)}
        </ul>
      </Card>
      <Card>
        <h2 class="text-2xl">Key Results</h2>
        <ul class="mt-4 space-y-2 text-slate-700">
          {study.results.map((result: string) => <li>• {result}</li>)}
        </ul>
      </Card>
    </div>
  </Section>

  <SplitSection
    eyebrow="Approach"
    title="How this project was delivered"
    description="Each case study follows the same process foundation: clarify message, simplify UX, and optimize for action."
    points={['Strategic page planning', 'Lean implementation sprints', 'Post-launch refinement path']}
    visualTitle="Execution model"
    visualCopy="Focused roadmap, fast feedback loops, and visible milestones."
    reverse
  />

  <CTASection
    title="Want similar outcomes for your business?"
    subtitle="Let’s map the most practical next step for your website."
  />
</Layout>